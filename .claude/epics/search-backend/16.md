---
name: Caching layer + cache key normalization
status: open
created: 2026-01-15T21:18:04Z
updated: 2026-01-15T21:18:04Z
github: https://github.com/TWO22-Org/rezipe/issues/16
depends_on: [14]
parallel: false
conflicts_with: []
---

# Task: Caching layer + cache key normalization

## Description
Implement caching service with consistent key normalization for query + locale combinations.

## Acceptance Criteria
- [ ] Cache key normalization (lowercase, trim, locale)
- [ ] Cache lookup function
- [ ] Cache store function with 24h TTL
- [ ] Cache hit/miss detection
- [ ] Expired entry handling

## Technical Details
- Normalize: lowercase, trim whitespace, append locale
- Hash or sanitize for key safety
- Store with expires_at = now + 24h
- Return cached: boolean in response
- Files: supabase/functions/_shared/cache.ts

## Dependencies
- [ ] 001 - search_cache table

## Effort Estimate
- Size: S
- Hours: 3
- Parallel: false
