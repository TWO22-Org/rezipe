---
name: search_cache table schema + migration
status: completed
created: 2026-01-15T21:17:59Z
updated: 2026-01-17T11:29:01Z
github: https://github.com/TWO22-Org/rezipe/issues/14
depends_on: []
parallel: true
conflicts_with: []
---

# Task: search_cache table schema + migration

## Description
Create Postgres table for search result caching with 24-hour TTL support.

## Acceptance Criteria
- [x] search_cache table created
- [x] query_key as primary key (normalized)
- [x] results_json JSONB column
- [x] expires_at timestamp column
- [x] created_at timestamp
- [x] Index on expires_at for cleanup

## Technical Details
- Supabase migration file
- query_key: normalized query + locale
- TTL: 24 hours from creation
- Consider cleanup policy for expired entries
- Files: supabase/migrations/xxx_search_cache.sql

## Dependencies
- [ ] Supabase project configured

## Effort Estimate
- Size: S
- Hours: 2
- Parallel: true
